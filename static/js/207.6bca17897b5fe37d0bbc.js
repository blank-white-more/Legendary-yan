webpackJsonp([207],{TcsV:function(e,n,t){var a=t("kxFB");(e.exports=t("FZ+f")(!1)).push([e.i,"\nbody[data-v-109e7987],\nhtml[data-v-109e7987] {\n  background: #fff;\n  color: #333;\n  height: 100%;\n}\ninput[data-v-109e7987],\nbutton[data-v-109e7987] {\n  overflow: visible;\n  vertical-align: middle;\n  outline: none;\n  border: 0;\n}\n.cube-btn.cube-btn_active[data-v-109e7987],\n.cube-btn[data-v-109e7987]:active {\n  background: -webkit-linear-gradient(top, #3d7fff 0%, #0053fc 64%, #003bfc 100%);\n  background: linear-gradient(180deg, #3d7fff 0%, #0053fc 64%, #003bfc 100%);\n  opacity: 0.8;\n}\n.text-danger[data-v-109e7987] {\n  color: #e8001c !important;\n}\n.text-B40000[data-v-109e7987] {\n  color: #b40000 !important;\n}\n.text-pink[data-v-109e7987] {\n  color: #d21095 !important;\n}\n.text-right[data-v-109e7987] {\n  color: #009207 !important;\n}\n.text-orange[data-v-109e7987] {\n  color: #e49a00 !important;\n}\n.text-8187A1[data-v-109e7987] {\n  color: #8187a1 !important;\n}\n.text-0002FF[data-v-109e7987] {\n  color: #0002ff !important;\n}\n.text-333333[data-v-109e7987] {\n  color: #333 !important;\n}\n.text-normal[data-v-109e7987] {\n  color: #3464ff !important;\n}\n.cube-picker-confirm[data-v-109e7987] {\n  color: #3464ff !important;\n}\n.cube-picker-confirm[data-v-109e7987]:active {\n  color: #3464ff !important;\n}\n.cube-picker-title[data-v-109e7987] {\n  color: #121212;\n  font-size: 0.426667rem;\n}\n.iconfanhui[data-v-109e7987] {\n  width: 1.386667rem;\n}\n.g_input[data-v-109e7987],\n.cube-select[data-v-109e7987] {\n  width: 100%;\n  height: 1.04rem;\n  background: #fff;\n  border-radius: 0.08rem;\n  border: 0.026667rem solid #e1e6f0;\n  text-indent: 0.4rem;\n  color: #333;\n  font-size: 0.4rem;\n  box-sizing: border-box;\n}\n.g_textarea[data-v-109e7987] {\n  display: block;\n  padding: 0.253333rem 0.4rem;\n  width: 100%;\n  box-sizing: border-box;\n  height: 2.933333rem;\n  background: #fff;\n  border-radius: 0.08rem;\n  border: 0.026667rem solid #e1e6f0;\n  color: #333;\n  font-size: 0.373333rem;\n  resize: none;\n  line-height: 0.64rem;\n}\n.g_textarea1[data-v-109e7987] {\n  margin-top: 0.32rem;\n}\n.g_button_submit[data-v-109e7987] {\n  display: block;\n  margin-top: 0.8rem;\n  font-size: 0.373333rem;\n  width: 100%;\n  height: 1.173333rem;\n  background: -webkit-linear-gradient(top, #6096ff 0%, #003bfc 100%);\n  background: linear-gradient(180deg, #6096ff 0%, #003bfc 100%);\n  box-shadow: 0 0.08rem 0.16rem 0 rgba(0,54,249,0.3);\n  border-radius: 0.08rem;\n  line-height: 1.173333rem;\n  text-align: center;\n  color: #fff;\n}\n.g_input[data-v-109e7987]::-webkit-input-placeholder,\n.g_textarea[data-v-109e7987]::-webkit-input-placeholder {\n  color: #8187a1;\n  font-size: 0.4rem;\n}\n.fr[data-v-109e7987] {\n  float: right;\n}\n.fl[data-v-109e7987] {\n  float: left;\n}\n.clear[data-v-109e7987] {\n  zoom: 1;\n}\n.clear[data-v-109e7987]:after {\n  content: '';\n  display: block;\n  clear: both;\n}\n.xieyi[data-v-109e7987] {\n  font-size: 0.32rem;\n}\n.xieyi a[data-v-109e7987] {\n  color: #3464ff;\n}\n.xieyi .cube-checkbox-wrap[data-v-109e7987] {\n  margin-top: 0.466667rem;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n  justify-content: center;\n  -webkit-box-align: start;\n  -webkit-align-items: flex-start;\n  align-items: flex-start;\n}\n.icongouwuche1[data-v-109e7987] {\n  position: relative;\n}\n.icongouwuche1 span[data-v-109e7987] {\n  position: absolute;\n  left: 0.186667rem;\n  top: -0.213333rem;\n  min-width: 0.386667rem;\n  height: 0.386667rem;\n  background-color: #e8001c;\n  color: #fff !important;\n  line-height: 0.386667rem;\n  text-align: center;\n  border-radius: 0.386667rem;\n  font-size: 0.266667rem;\n  padding: 0 0.053333rem;\n  box-sizing: border-box;\n}\n.nodata[data-v-109e7987] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n  justify-content: center;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: column;\n  flex-direction: column;\n  background: #fff;\n  text-align: center;\n  color: #999;\n  font-size: 0.373333rem;\n}\n.nodata img[data-v-109e7987] {\n  display: block;\n  margin: 0 auto;\n  margin-bottom: 0.8rem;\n  width: 7.266667rem;\n}\n.has-error[data-v-109e7987] {\n  border-color: #e8001c !important;\n}\n.mask[data-v-109e7987] {\n  z-index: 999;\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  background: rgba(0,0,0,0.65);\n}\n.zt_0[data-v-109e7987] {\n  color: #666 !important;\n}\n.zt_1[data-v-109e7987] {\n  color: #ffac00 !important;\n}\n.zt_2[data-v-109e7987] {\n  color: #009207 !important;\n}\n.zt_3[data-v-109e7987] {\n  color: #e8001c !important;\n}\n.border-bottom-1px[data-v-109e7987]::after {\n  border: 0;\n}\n.cube-checkbox_checked .cube-checkbox-ui i[data-v-109e7987] {\n  background: url("+a(t("bpH+"))+") no-repeat center center !important;\n  background-size: 100% 100% !important;\n  -webkit-transform: scale(1) !important;\n  transform: scale(1) !important;\n}\n.cube-checkbox_disabled .cube-checkbox-ui[data-v-109e7987]::before {\n  border-color: transparent;\n}\n.ff-money[data-v-109e7987] {\n  font-family: DINProM !important;\n}\n.index[data-v-109e7987] {\n  width: 100%;\n  background-color: #f3f5fc;\n}\n.index .index-head[data-v-109e7987] {\n  position: fixed;\n  top: 0;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n  -webkit-box-pack: justify;\n  -webkit-justify-content: space-between;\n  justify-content: space-between;\n  height: 1.173333rem;\n  width: 100%;\n  box-sizing: border-box;\n  background: #fff;\n  padding: 0 0.4rem;\n  font-size: 0.426667rem;\n  line-height: 1.173333rem;\n  color: #121212;\n  z-index: 999;\n}\n.index .index-head i[data-v-109e7987] {\n  width: 0.746667rem !important;\n}\n.index .index-head span[data-v-109e7987] {\n  font-size: 0.373333rem;\n  color: #121212;\n}\n.index .content[data-v-109e7987] {\n  margin-top: 1.173333rem;\n}\n[data-v-109e7987] .cube-checkbox-wrap {\n  padding: 0;\n}\n.tab-slide-container[data-v-109e7987] {\n  padding-top: 1.44rem;\n}\n[data-v-109e7987] .cube-tab div {\n  font-size: 0.373333rem;\n  font-weight: normal;\n}\n[data-v-109e7987] .cube-tab_active {\n  color: #003bfc;\n}\n[data-v-109e7987] .cube-tab_active div {\n  font-weight: bold;\n}\n[data-v-109e7987] .cube-tab-bar-slider {\n  background-color: #003bfc;\n  width: 0.693333rem !important;\n  margin-left: 1.306667rem;\n  height: 0.08rem;\n}\n.cube-tab-bar[data-v-109e7987] {\n  width: 100%;\n  height: 1.173333rem;\n  position: fixed;\n  z-index: 999;\n  font-size: 0.346667rem;\n  color: #333;\n  background-color: #fff;\n}\n.h20[data-v-109e7987] {\n  height: 0.266667rem;\n  background-color: #f3f5fc;\n}\n.list-wrapper[data-v-109e7987] {\n  background-color: #fff;\n}\n.list-wrapper .book-wrap[data-v-109e7987] {\n  width: 8rem;\n}\n.list-wrapper .book-box[data-v-109e7987] {\n  padding: 0.533333rem 0.4rem;\n}\n.list-wrapper .book-box h6[data-v-109e7987] {\n  display: block;\n  font-size: 0.4rem;\n  color: #333;\n  line-height: 100%;\n}\n.list-wrapper .book-box h6 p[data-v-109e7987] {\n  padding-top: 0;\n  font-size: 0.4rem;\n}\n.list-wrapper .book-box p[data-v-109e7987] {\n  padding-top: 0.266667rem;\n  line-height: 0.56rem;\n  color: #333;\n  font-size: 0.346667rem;\n  white-space: initial;\n}\n.list-wrapper .book-box p p[data-v-109e7987] div {\n  line-height: 0.56rem !important;\n}\n.list-wrapper .book-box strong[data-v-109e7987] {\n  display: block;\n  margin-top: 0.32rem;\n  color: #8187a1;\n  font-size: 0.32rem;\n  line-height: 1;\n}\n.list-wrapper i[data-v-109e7987] {\n  display: block;\n  width: 0.426667rem;\n  height: 0.426667rem;\n  margin-right: 0.32rem;\n  background: url("+a(t("ouPo"))+");\n  background-size: 0.426667rem;\n}\n.list-wrapper i.active i[data-v-109e7987] {\n  background: url("+a(t("9fbI"))+");\n  background-size: 0.426667rem;\n}\n.edit[data-v-109e7987] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n  -webkit-box-pack: justify;\n  -webkit-justify-content: space-between;\n  justify-content: space-between;\n  width: 100%;\n  height: 1.173333rem;\n  position: fixed;\n  box-sizing: border-box;\n  bottom: 0;\n  left: 0;\n  background-color: #fff;\n  padding: 0 0.4rem;\n  padding-left: 0.533333rem;\n  font-size: 0.32rem;\n  box-shadow: 0 -0.053333rem 0.133333rem 0 rgba(191,205,255,0.2);\n}\n.edit span[data-v-109e7987] {\n  color: #8187a1;\n}\n.edit strong[data-v-109e7987] {\n  color: #8187a1;\n}\n[data-v-109e7987] .cube-checkbox-ui {\n  display: none;\n  width: 0.346667rem;\n  height: 0.346667rem;\n  margin-right: 0.32rem;\n  font-size: 0.32rem;\n}\n.active[data-v-109e7987] .cube-checkbox-ui {\n  display: block;\n  width: 0.346667rem;\n  height: 0.346667rem;\n  margin-right: 0.32rem;\n  font-size: 0.32rem;\n}\n.cube-checkbox[data-v-109e7987] {\n  padding: 0;\n  color: #8187a1;\n}\n.yd h6[data-v-109e7987],\n.yd p[data-v-109e7987] {\n  color: #8187a1 !important;\n}\n[data-v-109e7987] .cube-pullup-wrapper {\n  font-size: 0.4rem;\n  background-color: #f3f5fc;\n}\n.fw700 span[data-v-109e7987] {\n  font-size: 0.32rem;\n  color: #333;\n}\n.bottom-r span[data-v-109e7987] {\n  margin-left: 0.506667rem;\n  display: inline-block;\n  width: 1.893333rem;\n  height: 0.746667rem;\n  background: #fff;\n  border-radius: 0.08rem;\n  border: 0.026667rem solid #e1e6f0;\n  text-align: center;\n  line-height: 0.746667rem;\n  box-sizing: border-box;\n}\n.edit[data-v-109e7987] .cube-checkbox-ui {\n  display: inline-block;\n  margin-right: 0.186667rem;\n}\n[data-v-109e7987] .cube-scroll-list-wrapper {\n  background-color: #f3f5fc;\n}\n.hhh6[data-v-109e7987] {\n  font-weight: 700;\n}",""])},"ac5+":function(e,n,t){var a=t("TcsV");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals),t("rjj0")("3eb46cd4",a,!0,{})},uANw:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=t("vR+E"),i=t("7t+N"),o=t.n(i),r={data:function(){return{selectedLabel:"全部消息",disabled:!1,nodataH:0,isedit:!1,tabLabels:[{label:"全部消息",data:[],checkList:[]},{label:"未读消息",data:[],checkList:[]},{label:"已读消息",data:[],checkList:[]}],currentIndex:0,loop:!1,autoPlay:!1,showDots:!1,slideOptions:{listenScroll:!1,probeType:3,directionLockThreshold:0},scrollOptions:{directionLockThreshold:0,click:!1},curHeight:0,options:{pullDownRefresh:{threshold:60,stop:40,txt:"刷新成功"},pullUpLoad:{threshold:0,txt:{more:"加载更多",noMore:"－ 我是有底线的 －"}}},page:1,checked:!1}},mounted:function(){this.curHeight=document.documentElement.clientHeight-88+"px",this.nodataH=document.documentElement.clientHeight-2*this.$refs.box.clientHeight-10+"px",this.getData(0)},updated:function(){o()(".look>div").css("line-height","20px"),o()(".look>div").css("margin-left","0"),o()(".look>div").css("font-size","13px")},methods:{onPullingDown:function(e){var n=this;setTimeout(function(){n.page=1,n.getData(n.currentIndex),2!=e||n.$refs.scroll[e]?n.$refs.scroll[e].forceUpdate():n.$refs.scroll[1].forceUpdate()},1e3)},onPullingUp:function(e){var n=this;setTimeout(function(){var t=0==n.currentIndex?0:1==t?2:1;n.page++,n.$axios.post(n.$domain+"/user_zh/get_xiaoxi",{zt:t,page:n.page}).then(function(t){t.data.data&&t.data.data.length?t.data.data.map(function(e){n.tabLabels[n.currentIndex].data.push(e)}):2!=e||n.$refs.scroll[e]?n.$refs.scroll[e].forceUpdate():n.$refs.scroll[1].forceUpdate()})},1e3)},allSelect:function(){var e=this;this.tabLabels[this.currentIndex].checkList=[],this.tabLabels[this.currentIndex].data.map(function(n){e.tabLabels[e.currentIndex].checkList.push(n.id)})},reader:function(e,n,t){if(!this.isedit&&(this.tabLabels[n].data[t].look=!this.tabLabels[n].data[t].look,1!=e.zt)){var a=this;a.$axios.post(a.$domain+"/user_zh/du_xiaoxi",{ids:e.id}).then(function(e){1==e.data.code&&(a.$set(a.tabLabels[n].data[t],"zt",1),a.$axios.post(a.$domain+"/user_zh/get_xiaoxi_num").then(function(e){if(e){var n=e.data;1==n.code&&a.$store.commit("update",["xiaoxi",n.data])}}))})}},changeChecked:function(){var e=this;this.checked?(this.tabLabels[this.currentIndex].checkList=[],this.tabLabels[this.currentIndex].data.map(function(n){e.tabLabels[e.currentIndex].checkList.push(n.id)})):this.tabLabels[this.currentIndex].checkList=[]},yidu:function(){var e=this;if(!e.tabLabels[0].checkList.length)return e.$createToast({txt:"未选择消息",type:"txt",time:1500}).show();e.$axios.post(e.$domain+"/user_zh/du_xiaoxi",{ids:e.tabLabels[0].checkList.toString()}).then(function(n){var t=n.data;e.$createToast({txt:t.msg,type:"txt",time:1500}).show(),1==n.data.code&&(e.$store.commit("update",["xiaoxi",0]),e.getData(0))})},deleteX:function(){var e=this;if(!e.tabLabels[e.currentIndex].checkList.length)return e.$createToast({txt:"未选择消息",type:"txt",time:1500}).show();var n=1==e.tabLabels[e.currentIndex].checkList.length?e.tabLabels[e.currentIndex].checkList[0]:e.tabLabels[e.currentIndex].checkList.toString();e.$axios.post(e.$domain+"/user_zh/del_xiaoxi",{ids:n}).then(function(n){var t=n.data;e.$createToast({txt:t.msg,type:"txt",time:1500}).show(),1==n.data.code&&(e.getData(e.currentIndex),e.checked=!1,e._this.tabLabels[e.currentIndex].checkList=[],e.$axios.post(e.$domain+"/user_zh/get_xiaoxi_num").then(function(n){if(n){var t=n.data;1==t.code&&e.$store.commit("update",["xiaoxi",t.data])}}))})},edit:function(){this.isedit=!this.isedit,this.isedit?this.curHeight=document.documentElement.clientHeight-132+"px":this.curHeight=document.documentElement.clientHeight-88+"px"},getData:function(e){var n=this,t=0==e?0:1==e?2:1;n.$axios.post(n.$domain+"/user_zh/get_xiaoxi",{zt:t}).then(function(t){var a=t.data;a.data.map(function(e){e.look=!!e.look}),n.tabLabels[e].data=a.data})},changePage:function(e){this.checked=!1,this.tabLabels.map(function(e){e.checkList=[]}),this.page=1,this.selectedLabel=this.tabLabels[e].label,this.currentIndex=e,this.getData(e)},scroll:function(e){var n=Math.abs(e.x),t=this.$refs.tabNav.$el.clientWidth,a=n/this.$refs.slide.slide.scrollerWidth*t;this.$refs.tabNav.setSliderTransform(a)}},computed:{initialIndex:function(){var e=this;return Object(a.c)(this.tabLabels,function(n){return n.label===e.selectedLabel})}},components:{}},c=t("VU/8")(r,{render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"index"},[t("div",{ref:"box",staticClass:"index-head"},[t("i",{staticClass:"iconfont iconxiangzuo",on:{click:function(n){return e.$router.back(-1)}}}),e._v(" "),t("span",{staticStyle:{fontWeight:"700"}},[e._v("站内消息")]),e._v(" "),e.isedit?t("span",{on:{click:e.edit}},[e._v("完成")]):t("span",{on:{click:e.edit}},[e._v("编辑")])]),e._v(" "),t("div",{staticClass:"content"},[t("cube-tab-bar",{ref:"tabNav",attrs:{"show-slider":"","use-transition":e.disabled,data:e.tabLabels},model:{value:e.selectedLabel,callback:function(n){e.selectedLabel=n},expression:"selectedLabel"}}),e._v(" "),t("div",{ref:"box1",staticClass:"tab-slide-container"},[t("cube-slide",{ref:"slide",attrs:{loop:e.loop,"auto-play":e.autoPlay,"initial-index":e.initialIndex,"show-dots":e.showDots,options:e.slideOptions},on:{scroll:e.scroll,change:e.changePage}},e._l(e.tabLabels,function(n,a){return t("cube-slide-item",{key:a},[t("cube-scroll",{attrs:{options:e.scrollOptions}},[n.data.length?t("ul",{staticClass:"list-wrapper"},[t("div",{style:{height:e.curHeight}},[t("cube-scroll",{ref:"scroll",refInFor:!0,attrs:{options:e.options,data:n.data},on:{"pulling-down":function(n){return e.onPullingDown(a)},"pulling-up":function(n){return e.onPullingUp(a)}}},[t("cube-checkbox-group",{model:{value:n.checkList,callback:function(t){e.$set(n,"checkList",t)},expression:"t.checkList"}},e._l(n.data,function(n,i){return t("li",{key:i,on:{click:function(t){return e.reader(n,a,i)}}},[t("div",{class:["book-box",e.isedit?"active":"",1!=n.zt?"":"yd"]},[t("cube-checkbox",{staticClass:"bookBox",attrs:{option:n.id}},[t("div",{staticClass:"book-wrap"},[t("h6",[t("p",{staticClass:"hhh6"},[e._v(e._s(n.bt))])]),e._v(" "),n.look?t("p",{staticClass:"look",domProps:{innerHTML:e._s(n.nr)}}):e._e(),e._v(" "),t("strong",[e._v(e._s(n.sj))])])])],1),e._v(" "),t("div",{staticClass:"h20"})])}),0)],1)],1)]):t("div",{staticClass:"nodata",style:{height:e.nodataH}},[t("img",{attrs:{src:e.ossUrl("nodata.png"),alt:""}}),e._v(" "),t("p",[e._v("暂无数据~")])])])],1)}),1)],1)],1),e._v(" "),e.isedit?t("div",{staticClass:"edit"},[t("cube-checkbox",{on:{input:e.changeChecked},model:{value:e.checked,callback:function(n){e.checked=n},expression:"checked"}},[e._v("全选")]),e._v(" "),t("span",{staticClass:"bottom-r"},[t("strong",{on:{click:e.deleteX}},[e._v("删除")]),e._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:!(2==e.currentIndex),expression:"!(currentIndex == 2)"}],on:{click:e.yidu}},[e._v("全部已读")])])],1):e._e()])},staticRenderFns:[]},!1,function(e){t("ac5+")},"data-v-109e7987",null);n.default=c.exports}});